# تطبيق تقنين استخدام التطبيقات

تطبيق Flutter يساعد المستخدمين على تقنين استخدام التطبيقات الاجتماعية والتحكم في الوقت المقضي عليها.

## الفكرة

يهدف هذا التطبيق إلى حل مشكلة إهدار الوقت على تطبيقات التواصل الاجتماعي من خلال:

- عرض نافذة منبثقة عند فتح التطبيقات المراقبة لتحديد الهدف والمدة
- مراقبة الوقت المستخدم وإرسال تنبيهات عند انتهاء الوقت المحدد
- إمكانية تخصيص الأهداف والمدد حسب احتياجات المستخدم

## الميزات

### الميزات الأساسية
- ✅ مراقبة استخدام التطبيقات المحددة
- ✅ نافذة منبثقة لاختيار الهدف والمدة عند فتح التطبيق
- ✅ إشعارات عند انتهاء الوقت المحدد
- ✅ أهداف مخصصة قابلة للتعديل
- ✅ حفظ الإعدادات والبيانات محلياً

### الميزات المتقدمة
- ✅ إحصائيات الاستخدام
- ✅ سجل جلسات الاستخدام
- ✅ تصدير واستيراد البيانات
- ✅ واجهة مستخدم باللغة العربية

## المتطلبات التقنية

### Flutter SDK
- Flutter 3.24.5 أو أحدث
- Dart 3.5.4 أو أحدث

### التبعيات الرئيسية
- `app_usage: ^3.0.1` - لمراقبة استخدام التطبيقات
- `flutter_overlay_window: ^0.5.0` - لعرض النوافذ المنبثقة
- `flutter_local_notifications: ^17.2.3` - للإشعارات المحلية
- `shared_preferences: ^2.3.2` - لتخزين البيانات
- `permission_handler: ^11.3.1` - لإدارة الصلاحيات

### الصلاحيات المطلوبة (Android)
- `SYSTEM_ALERT_WINDOW` - لعرض النوافذ فوق التطبيقات الأخرى
- `PACKAGE_USAGE_STATS` - لمراقبة استخدام التطبيقات
- `POST_NOTIFICATIONS` - لإرسال الإشعارات
- `WAKE_LOCK` - للحفاظ على نشاط التطبيق
- `VIBRATE` - للاهتزاز مع الإشعارات

## التثبيت والتشغيل

### 1. استنساخ المشروع
```bash
git clone <repository-url>
cd app_usage_controller
```

### 2. تثبيت التبعيات
```bash
flutter pub get
```

### 3. تشغيل التطبيق
```bash
flutter run
```

### 4. بناء APK للإنتاج
```bash
flutter build apk --release
```

## البنية التقنية

### المجلدات الرئيسية
```
lib/
├── models/          # نماذج البيانات
├── services/        # الخدمات الأساسية
├── screens/         # شاشات التطبيق
├── widgets/         # المكونات المخصصة
└── utils/           # الأدوات المساعدة
```

### الخدمات الأساسية
- `AppControllerService` - الخدمة الرئيسية للتحكم
- `AppUsageService` - مراقبة استخدام التطبيقات
- `NotificationService` - إدارة الإشعارات
- `OverlayService` - إدارة النوافذ المنبثقة
- `StorageService` - تخزين البيانات المحلية

### النماذج
- `AppGoal` - نموذج الهدف
- `MonitoredApp` - نموذج التطبيق المراقب
- `UsageSession` - نموذج جلسة الاستخدام

## كيفية الاستخدام

### 1. الإعداد الأولي
- فتح التطبيق والانتقال إلى تبويب "التطبيقات"
- تفعيل التطبيقات التي تريد مراقبتها
- إضافة أهداف مخصصة من تبويب "الأهداف"

### 2. تفعيل المراقبة
- الانتقال إلى تبويب "عام"
- تفعيل "المراقبة" و"النافذة المنبثقة" و"الإشعارات"
- منح الصلاحيات المطلوبة عند الطلب

### 3. الاستخدام اليومي
- عند فتح أي تطبيق مراقب، ستظهر نافذة لاختيار الهدف والمدة
- اختيار الهدف المناسب وتحديد المدة
- ستتلقى تنبيهات عند انتهاء الوقت المحدد

## التحديات التقنية

### 1. مراقبة التطبيقات
- يتطلب صلاحية `PACKAGE_USAGE_STATS` التي تحتاج موافقة يدوية من المستخدم
- قد لا تعمل بشكل مثالي على جميع أجهزة Android بسبب قيود النظام

### 2. النوافذ المنبثقة
- تتطلب صلاحية `SYSTEM_ALERT_WINDOW`
- قد تتأثر بإعدادات توفير البطارية في بعض الأجهزة

### 3. إغلاق التطبيقات
- غير ممكن تقنياً في Android الحديث لأسباب أمنية
- التطبيق يركز على التنبيهات القوية بدلاً من الإغلاق القسري

## التطوير المستقبلي

### ميزات مخططة
- [ ] دعم iOS
- [ ] تحليلات أكثر تفصيلاً
- [ ] مزامنة البيانات عبر الأجهزة
- [ ] أنماط استخدام ذكية
- [ ] تكامل مع تطبيقات الإنتاجية

### تحسينات تقنية
- [ ] تحسين أداء مراقبة التطبيقات
- [ ] دعم المظاهر المتعددة
- [ ] تحسين واجهة المستخدم
- [ ] إضافة اختبارات شاملة

## المساهمة

نرحب بالمساهمات! يرجى:
1. فتح Issue لمناقشة التغييرات المقترحة
2. إنشاء Fork للمشروع
3. إنشاء branch جديد للميزة
4. إرسال Pull Request

## الترخيص

هذا المشروع مرخص تحت رخصة MIT - راجع ملف LICENSE للتفاصيل.

## الدعم

للحصول على الدعم أو الإبلاغ عن مشاكل:
- فتح Issue في GitHub
- مراجعة الوثائق
- التحقق من الأسئلة الشائعة

---

**ملاحظة**: هذا التطبيق تعليمي ويتطلب صلاحيات خاصة قد لا تعمل على جميع الأجهزة. يُنصح بالاختبار على أجهزة متعددة قبل الاستخدام الفعلي.

